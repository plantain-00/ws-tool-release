webpackJsonp([0],{12:function(e,t,o){"use strict";function s(){return p(new Date,"HH:mm:ss")}Object.defineProperty(t,"__esModule",{value:!0});var n=o(13),i=o(2),a=o(4),r=o(5),l=o(7),c=o(8),p=o(9),d=(o(45),o(46));new l(".clipboard");var u,h,f=new r.Decoder,m=new r.Decoder,b=localStorage.getItem("parameters"),y=localStorage.getItem("headers"),g=localStorage.getItem("bookmarks"),v='package testPackage;\nsyntax = "proto3";\nmessage Test {\n    required string data = 1;\n}',k=function(e){function t(t){var o=e.call(this,t)||this;return o.websocket=null,o.messages=[],o.isSocketIOInternally=!!localStorage.getItem("isSocketIO"),o.ignorePingInternally=!!localStorage.getItem("ignorePing"),o.baseUrl=localStorage.getItem("baseUrl")||"wss://copy.yorkyao.xyz/socket.io/",o.parameters=b?JSON.parse(b):[{key:"transport",value:"websocket"},{key:"room",value:"test"}],o.anchor=localStorage.getItem("anchor")||"",o.messageInternally=localStorage.getItem("message")||'42["copy",{"username":"hello","message":"world"}]',o.showRawInternally=!!localStorage.getItem("showRaw"),o.showFormattedInternally=!!localStorage.getItem("showFormatted"),o.previewResult="",o.isPreview=!1,o.bookmarks=g?JSON.parse(g):[],o.isEditing=!1,o.bookmarkName="",o.subprotocolInternally=localStorage.getItem("subprotocol")||"",o.filter="",o.filterIsHidden=!0,o.stompIsHidden=!0,o.protobufType=null,o.protobufContentInternally=localStorage.getItem("protobufContent")||v,o.protobufTypePathInternally=localStorage.getItem("protobufTypePath")||"testPackage.Test",o.protobufIsHidden=!0,o.messageTypeInternally=localStorage.getItem("messageType")||"string",o.protocolInternally=localStorage.getItem("protocol")||"WebSocket",o.hostInternally=localStorage.getItem("host")||"localhost",o.portInternally=+localStorage.getItem("port")||9999,o.tcpConnected=!1,o.httpMethodInternally=localStorage.getItem("httpMethod")||"GET",o.headers=y?JSON.parse(y):[{key:"Content-Type",value:"application/json"}],o.socketIOIsHidden=!0,o.formDatas=[],o.peerConnection=window.RTCPeerConnection?new RTCPeerConnection:null,o.dataChannel=null,o.dataChannelName="my_test_channel",o.sessionDescription="",o.isDataChannelConnected=!1,o.dataChannelStatus="none",o.id=1,o.bayeuxIsHidden=!0,o.useProxy=!0,o.peerConnection&&(o.peerConnection.ondatachannel=function(e){e.channel.onopen=function(e){w.isDataChannelConnected=!0,o.messages.unshift({moment:s(),type:"tips",tips:"peer connection opened.",id:w.id++})},e.channel.onclose=function(e){w.isDataChannelConnected=!1,o.messages.unshift({moment:s(),type:"tips",tips:"peer connection closed.",id:w.id++})},e.channel.onmessage=function(e){o.onmessage(e)}}),o}return n.__extends(t,e),Object.defineProperty(t.prototype,"httpMethod",{get:function(){return this.httpMethodInternally},set:function(e){localStorage.setItem("httpMethod",e),this.httpMethodInternally=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"host",{get:function(){return this.hostInternally},set:function(e){localStorage.setItem("host",e),this.hostInternally=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"port",{get:function(){return this.portInternally},set:function(e){localStorage.setItem("port",String(e)),this.portInternally=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"protocol",{get:function(){return this.protocolInternally},set:function(e){"HTTP"!==e&&"FormData"!==this.messageType||(this.messageType="string"),localStorage.setItem("protocol",e),this.protocolInternally=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"messageType",{get:function(){return this.messageTypeInternally},set:function(e){localStorage.setItem("messageType",e),this.messageTypeInternally=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"protobufContent",{get:function(){return this.protobufContentInternally},set:function(e){localStorage.setItem("protobufContent",e),this.protobufContentInternally=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"protobufTypePath",{get:function(){return this.protobufTypePathInternally},set:function(e){localStorage.setItem("protobufTypePath",e),this.protobufTypePathInternally=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filteredMessages",{get:function(){var e=this;return this.messages.filter(function(t){return!e.filter||("string"==typeof t.rawData&&-1!==t.rawData.indexOf(e.filter)||"string"==typeof t.moment&&-1!==t.moment.indexOf(e.filter)||"string"==typeof t.formattedData&&-1!==t.formattedData.indexOf(e.filter)||"string"==typeof t.type&&-1!==t.type.indexOf(e.filter)||"string"==typeof t.reason&&-1!==t.reason.indexOf(e.filter)||"string"==typeof t.data&&-1!==t.data.indexOf(e.filter)||"string"==typeof t.tips&&-1!==t.tips.indexOf(e.filter))}).slice(0,100)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subprotocol",{get:function(){return this.subprotocolInternally},set:function(e){localStorage.setItem("subprotocol",e),this.subprotocolInternally=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canSaveAsBookmark",{get:function(){if(""===this.bookmarkName.trim())return!1;for(var e=0,t=this.bookmarks;e<t.length;e++){if(t[e].name===this.bookmarkName)return!1}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSocketIO",{get:function(){return this.isSocketIOInternally},set:function(e){localStorage.setItem("isSocketIO",e?"1":""),this.isSocketIOInternally=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ignorePing",{get:function(){return this.ignorePingInternally},set:function(e){localStorage.setItem("ignorePing",e?"1":""),this.ignorePingInternally=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showRaw",{get:function(){return this.showRawInternally},set:function(e){localStorage.setItem("showRaw",e?"1":""),this.showRawInternally=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showFormatted",{get:function(){return this.showFormattedInternally},set:function(e){localStorage.setItem("showFormatted",e?"1":""),this.showFormattedInternally=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.messageInternally},set:function(e){localStorage.setItem("message",e),this.messageInternally=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){var e=this.baseUrl;if(this.parameters.length>0){e+="?";for(var t=0,o=this.parameters;t<o.length;t++){var s=o[t];e+=s.key+"="+s.value+"&"}e=e.substring(0,e.length-1)}return this.anchor&&(e+="#"+this.anchor),e},set:function(e){var t=e.indexOf("#");if(t>-1?(e=e.substring(0,t),this.anchor=e.substring(t+1)):this.anchor="",(t=e.indexOf("?"))>-1){this.baseUrl=e.substring(0,t);for(var o=e.substring(t+1).split("&"),s=[],n=0,i=o;n<i.length;n++){var a=i[n];t=a.indexOf("="),-1===t?s.push({key:a,value:""}):s.push({key:a.substring(0,t),value:a.substring(t+1)})}this.parameters=s}else this.baseUrl=e,this.parameters=[];localStorage.setItem("baseUrl",this.baseUrl),localStorage.setItem("parameters",JSON.stringify(this.parameters)),localStorage.setItem("anchor",this.anchor)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isConnected",{get:function(){return"WebSocket"===this.protocol&&this.websocket||"TCP"===this.protocol&&this.tcpConnected||"WebRTC"===this.protocol&&this.dataChannel&&this.isDataChannelConnected},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisconnected",{get:function(){return"WebSocket"===this.protocol&&!this.websocket||"TCP"===this.protocol&&!this.tcpConnected||"WebRTC"===this.protocol&&!(this.dataChannel&&this.isDataChannelConnected)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldContainBody",{get:function(){return"POST"===this.httpMethod||"PUT"===this.httpMethod||"PATCH"===this.httpMethod||"DELETE"===this.httpMethod||"LINK"===this.httpMethod||"UNLINK"===this.httpMethod},enumerable:!0,configurable:!0}),t.prototype.createDataChannel=function(){this.peerConnection&&(this.dataChannel=this.peerConnection.createDataChannel(this.dataChannelName),this.dataChannelStatus="init",this.messages.unshift({moment:s(),type:"tips",tips:"create data channel successfully: "+this.dataChannelName,id:this.id++}))},t.prototype.createOffer=function(){var e=this;this.peerConnection&&this.peerConnection.createOffer().then(function(t){return e.peerConnection.setLocalDescription(t)}).then(function(){e.messages.unshift({moment:s(),type:"tips",tips:JSON.stringify(e.peerConnection.localDescription.toJSON()),id:e.id++}),e.dataChannelStatus="created offer"},function(t){e.messages.unshift({moment:s(),type:"error",reason:t.message,id:e.id++})})},t.prototype.answerOffer=function(){var e=this;try{if(!this.peerConnection)return;var t=new RTCSessionDescription(JSON.parse(this.sessionDescription));this.peerConnection.setRemoteDescription(t).then(function(){return e.peerConnection.createAnswer()}).then(function(t){return e.peerConnection.setLocalDescription(t)}).then(function(){e.messages.unshift({moment:s(),type:"tips",tips:JSON.stringify(e.peerConnection.localDescription.toJSON()),id:e.id++}),e.dataChannelStatus="answered offer"},function(t){e.messages.unshift({moment:s(),type:"error",reason:t.message,id:e.id++})})}catch(e){this.messages.unshift({moment:s(),type:"error",reason:e.message,id:this.id++})}},t.prototype.setAnswer=function(){var e=this;try{if(!this.peerConnection)return;var t=new RTCSessionDescription(JSON.parse(this.sessionDescription));this.peerConnection.setRemoteDescription(t).then(function(){e.messages.unshift({moment:s(),type:"tips",tips:"set answer successfully.",id:e.id++}),e.dataChannelStatus="set answer"},function(t){e.messages.unshift({moment:s(),type:"error",reason:t.message,id:e.id++})})}catch(e){this.messages.unshift({moment:s(),type:"error",reason:e.message,id:this.id++})}},t.prototype.loadProtobuf=function(){if(this.protobufContent&&this.protobufTypePath)try{this.protobufType=c.parse(this.protobufContent).root.lookup(this.protobufTypePath),this.messages.unshift({moment:s(),type:"tips",tips:"The protobuf definitions is loaded successfully.",id:this.id++})}catch(e){this.messages.unshift({moment:s(),type:"error",reason:e.message,id:this.id++})}},t.prototype.savingAsBookmark=function(){var e=this;this.isEditing=!this.isEditing,i.nextTick(function(){var t=e.$refs.bookmarkName;t&&t.focus()})},t.prototype.toggleFilter=function(){var e=this;this.filterIsHidden=!this.filterIsHidden,i.nextTick(function(){var t=e.$refs.filter;t&&t.focus()})},t.prototype.toggleSocketIO=function(){this.socketIOIsHidden=!this.socketIOIsHidden},t.prototype.toggleStomp=function(){this.stompIsHidden=!this.stompIsHidden},t.prototype.toggleBayeux=function(){this.bayeuxIsHidden=!this.bayeuxIsHidden},t.prototype.toggleProtobuf=function(){this.protobufIsHidden=!this.protobufIsHidden},t.prototype.saveAsBookmark=function(){this.isEditing=!1,this.bookmarks.unshift({name:this.bookmarkName,isSocketIO:this.isSocketIO,ignorePing:this.ignorePing,baseUrl:this.baseUrl,parameters:this.parameters,anchor:this.anchor,message:this.message,showRaw:this.showRaw,showFormatted:this.showFormatted,subprotocol:this.subprotocol,protobufContent:this.protobufContent,protobufTypePath:this.protobufTypePath,messageType:this.messageType,protocol:this.protocol,host:this.host,port:this.port,httpMethod:this.httpMethod,headers:this.headers}),localStorage.setItem("bookmarks",JSON.stringify(this.bookmarks))},t.prototype.deleteBookmark=function(e){this.bookmarks.splice(e,1),localStorage.setItem("bookmarks",JSON.stringify(this.bookmarks))},t.prototype.useBookmark=function(e){var t=this.bookmarks[e];this.isSocketIO=t.isSocketIO,this.ignorePing=t.ignorePing,this.showRaw=t.showRaw,this.showFormatted=t.showFormatted,this.message=t.message,this.baseUrl=t.baseUrl;var o=JSON.stringify(t.parameters);this.parameters=JSON.parse(o),this.anchor=t.anchor,localStorage.setItem("baseUrl",t.baseUrl),localStorage.setItem("parameters",o),localStorage.setItem("anchor",t.anchor),this.subprotocol=t.subprotocol,this.protobufContent=t.protobufContent,this.protobufTypePath=t.protobufTypePath,this.messageType=t.messageType,this.protocol=t.protocol,this.host=t.host,this.port=t.port,this.httpMethod=t.httpMethod,this.headers=t.headers,localStorage.setItem("headers",JSON.stringify(t.headers))},t.prototype.setKeyOfParameter=function(e,t){this.parameters[e].key=t.target.value,localStorage.setItem("parameters",JSON.stringify(this.parameters))},t.prototype.setKeyOfHeader=function(e,t){this.headers[e].key=t.target.value,localStorage.setItem("headers",JSON.stringify(this.headers))},t.prototype.setKeyOfFormData=function(e,t){this.formDatas[e].key=t.target.value},t.prototype.setValueOfParameter=function(e,t){this.parameters[e].value=t.target.value,localStorage.setItem("parameters",JSON.stringify(this.parameters))},t.prototype.setValueOfHeader=function(e,t){this.headers[e].value=t.target.value,localStorage.setItem("headers",JSON.stringify(this.headers))},t.prototype.setValueOfFormData=function(e,t){var o=t.target;this.formDatas[e].value=o.files&&o.files.length>0?o.files[0]:o.value},t.prototype.setTypeOfFormData=function(e,t){this.formDatas[e].type=t.target.value},t.prototype.deleteParameter=function(e){this.parameters.splice(e,1),localStorage.setItem("parameters",JSON.stringify(this.parameters))},t.prototype.deleteHeader=function(e){this.headers.splice(e,1),localStorage.setItem("headers",JSON.stringify(this.headers))},t.prototype.deleteFormData=function(e){this.formDatas.splice(e,1)},t.prototype.addParameter=function(){this.parameters.push({key:"",value:""})},t.prototype.addHeader=function(){this.headers.push({key:"",value:""})},t.prototype.addFormData=function(){this.formDatas.push({key:"",value:"",type:"text"})},t.prototype.connect=function(){if("WebSocket"===this.protocol){try{this.websocket=this.subprotocol?new WebSocket(this.url,this.subprotocol):new WebSocket(this.url)}catch(e){return void this.messages.unshift({moment:s(),type:"error",reason:e.message,id:this.id++})}this.websocket.binaryType="arraybuffer",this.websocket.onopen=this.onopen,this.websocket.onclose=this.onclose,this.websocket.onmessage=this.onmessage,this.websocket.onerror=this.onerror,this.isSocketIO&&(u=setInterval(this.ping,25e3))}else if("TCP"===this.protocol&&h&&!isNaN(+this.port)){var e={kind:"tcp:connect",host:this.host,port:+this.port};h.send(JSON.stringify(e))}},t.prototype.sendMessage=function(){this.send(this.message)},t.prototype.useStompConnectionMessage=function(){this.message="CONNECT\nlogin:admin\npasscode:admin\naccept-version:1.2,1.1,1.0\nheart-beat:0,0\n\n\0"},t.prototype.useStompSubscriptionMessage=function(){this.message="SUBSCRIBE\nid:sub-0\ndestination:/topic/test_topic\n\n\0"},t.prototype.useStompSendMessage=function(){this.message="SEND\ndestination:/queue/test\ncontent-type:text/plain\n\nhello queue test\n\0"},t.prototype.useSocketIOSendMessage=function(){this.message='42["a_event",{\n    "a_key":"a_value"\n}]'},t.prototype.useBayeuxHandshakeMessage=function(){this.message='[{\n    "advice":{ "timeout":60000, "interval":0 },\n    "channel":"/meta/handshake",\n    "ext":{},\n    "id":"1",\n    "minimumVersion": "0.9",\n    "supportedConnectionTypes": ["websocket"],\n    "version": "1.0"\n}]'},t.prototype.useBayeuxSubscribeMessage=function(){this.message='[{\n    "channel": "/meta/subscribe",\n    "clientId": "",\n    "id": "2",\n    "subscription": "/test_channel"\n}]'},t.prototype.useBayeuxPublishMessage=function(){this.message='[{\n    "channel": "/test_channel",\n    "clientId": "",\n    "data": {},\n    "id": "3"\n}]'},t.prototype.useBayeuxPingMessage=function(){this.message='[{\n    "advice": { "timeout": 0 },\n    "channel": "/meta/connect",\n    "clientId": "",\n    "connectionType": "websocket",\n    "id": "4"\n}]'},t.prototype.send=function(e){var t,o=this,n=!0;try{if("Uint8Array"===this.messageType)t=new Uint8Array(this.message.split(",").map(function(e){return+e}));else if("protobuf"===this.messageType){if(!this.protobufType)return void this.messages.unshift({moment:s(),type:"error",reason:"Protobuf file content is not loaded.",id:this.id++});var i=JSON.parse(this.message);t=this.protobufType.encode(i).finish()}else t=this.message,n=!1}catch(e){return void this.messages.unshift({moment:s(),type:"error",reason:e.message,id:this.id++})}var a,r;if("WebSocket"===this.protocol)this.websocket&&t&&(this.ignorePing&&"2"===e||(a=e,r=t.toString()),this.websocket.send(t));else if("TCP"===this.protocol){if(h&&t){var l={kind:"tcp:send",isBinary:n,message:"string"==typeof t?t:t.toString()};r=JSON.stringify(l,null,"  "),h.send(JSON.stringify(l))}}else if("UDP"===this.protocol){if(h&&t){var l={kind:"udp:send",address:this.host,port:+this.port,isBinary:n,message:"string"==typeof t?t:t.toString()};r=JSON.stringify(l,null,"  "),h.send(JSON.stringify(l))}}else if("HTTP"===this.protocol){var c=new XMLHttpRequest;if(c.onloadend=function(e){o.onmessageAccepted(c.status+" "+c.statusText+"\n"+c.getAllResponseHeaders(),""),o.onmessageAccepted(c.response,"")},c.upload.onprogress=function(e){var t=Math.round(100*e.loaded/e.total);o.onmessageAccepted(e.loaded+" / "+e.total+" ("+t+"%)","")},this.useProxy)c.open(this.httpMethod,"/proxy"),c.setRequestHeader("x-to-url",this.url),c.setRequestHeader("x-headers",JSON.stringify(this.headers.filter(function(e){return e.key})));else{c.open(this.httpMethod,this.url);for(var p=0,d=this.headers;p<d.length;p++){var u=d[p];c.setRequestHeader(u.key,u.value)}}if(this.shouldContainBody)if("FormData"===this.messageType){for(var f=new FormData,m=0,b=this.formDatas;m<b.length;m++){var y=b[m],g=y.key,v=y.value;g&&f.append(g,v)}c.send(f)}else c.send(this.message);else c.send()}else"WebRTC"===this.protocol&&this.dataChannel&&(a=e,this.dataChannel.send(e));a&&this.messages.unshift({moment:s(),type:"out",rawData:a,visible:void 0,visibilityButtonExtraBottom:0,isBinary:n,id:this.id++}),r&&this.messages.unshift({moment:s(),type:"out",formattedData:r,visible:void 0,visibilityButtonExtraBottom:0,isBinary:n,id:this.id++})},t.prototype.ping=function(){this.send("2")},t.prototype.pingBayeux=function(){this.send("2")},t.prototype.clear=function(){this.messages=[]},t.prototype.previewMessage=function(){if(this.isPreview=!0,"WebSocket"===this.protocol&&this.isSocketIO)this.previewResult="",m.add(this.message);else if("Uint8Array"===this.messageType)try{this.previewResult=new TextDecoder("utf-8").decode(new Uint8Array(this.message.split(",").map(function(e){return+e})))}catch(e){this.previewResult=e}else try{this.previewResult=JSON.stringify(JSON.parse(this.message),null,"    ")}catch(e){this.previewResult=e}},t.prototype.cancelPreview=function(){this.isPreview=!1},t.prototype.showTips=function(){this.messages.unshift({moment:s(),type:"tips",tips:"Tips: \n1. for socket.io, if you connect 'http://localhost', in ws's perspective, you connected 'ws://localhost/socket.io/?transport=websocket'\n2. for socket.io, if you connect 'https://localhost', in ws's perspective, you connected 'wss://localhost/socket.io/?transport=websocket'\n3. chrome's developer tool is a good tool to view ws connection and messages\n4. for ActiveMQ, the default url is 'ws://localhost:61614' ,the subprotocol should be 'stomp'\n5. for HTTP, set `Content-Type` be `application/x-www-form-urlencoded`, `multipart/form-data` or `text/plain` to avoid CORS preflight",id:this.id++})},t.prototype.close=function(){if(this.messages.unshift({moment:s(),type:"tips",tips:"Is going to disconnect manually.",id:this.id++}),"WebSocket"===this.protocol)this.websocket.close();else if("TCP"===this.protocol){var e={kind:"tcp:disconnect"};h.send(JSON.stringify(e))}},t.prototype.onopen=function(e){this.messages.unshift({moment:s(),type:e.type,id:this.id++})},t.prototype.onclose=function(e){this.messages.unshift({moment:s(),type:e.type,reason:e.reason,id:this.id++}),this.websocket=null,clearInterval(u)},t.prototype.onmessage=function(e){this.onmessageAccepted(e.data,e.type)},t.prototype.onmessageAccepted=function(e,t){if(!this.ignorePing||"3"!==e){var o="string"!=typeof e;if("3"===e)return void this.messages.unshift({moment:s(),type:t,data:e,isBinary:o,id:this.id++});var n,i;if(o?(n=new Uint8Array(e),i=n.toString()):(n=void 0,i=e),this.messages.unshift({moment:s(),type:"in",rawData:i,visible:void 0,visibilityButtonExtraBottom:0,isBinary:o,id:this.id++}),"WebSocket"===this.protocol&&this.isSocketIOInternally)f.add(e);else if(o){try{var a=new TextDecoder("utf-8").decode(n);this.messages.unshift({moment:s(),type:"in",formattedData:a,isBinary:o,visible:void 0,visibilityButtonExtraBottom:0,id:this.id++})}catch(e){console.log(e)}if(this.protobufType)try{var r=this.protobufType.toObject(this.protobufType.decode(n));this.messages.unshift({moment:s(),type:"in",formattedData:JSON.stringify(r,null,"    "),isBinary:o,visible:void 0,visibilityButtonExtraBottom:0,id:this.id++})}catch(e){console.log(e)}}else try{var l=JSON.parse(e);"WebSocket"!==this.protocol&&("tcp:connected"===l.kind?this.tcpConnected=!0:"tcp:disconnected"===l.kind&&(this.tcpConnected=!1)),this.messages.unshift({moment:s(),type:"in",formattedData:JSON.stringify(l,null,"    "),isBinary:o,visible:void 0,visibilityButtonExtraBottom:0,id:this.id++})}catch(e){console.log(e)}}},t.prototype.onerror=function(e){this.messages.unshift({moment:s(),type:e.type,id:this.id++}),this.websocket=null,clearInterval(u)},t.prototype.toggleMessageVisibility=function(e){e.visible=!this.messageVisibility(e)},t.prototype.resultId=function(e){return"result-"+e},t.prototype.messageVisibility=function(e){return void 0!==e.visible?e.visible:e.formattedData?this.showFormatted:this.showRaw},t.prototype.visibilityButtonStyle=function(e){return{position:"absolute",bottom:(this.messageVisibility(e)?10+e.visibilityButtonExtraBottom:0)+"px",right:"10px"}},t=n.__decorate([a.default({template:d.appTemplateHtml})],t)}(i),w=new k({el:"#body"});WebSocket||w.messages.unshift({moment:s(),type:"tips",tips:"current browser doesn't support WebSocket",id:w.id++}),f.on("decoded",function(e){w.messages.unshift({moment:s(),type:"in",formattedData:JSON.stringify(e,null,"    "),visible:void 0,visibilityButtonExtraBottom:0,id:w.id++})}),m.on("decoded",function(e){w.previewResult=JSON.stringify(e,null,"    ")}),window.onscroll=function(){for(var e=window.innerHeight||document.documentElement.clientHeight,t=0;t<w.messages.length;t++){var o=w.messages[t],s=document.getElementById(w.resultId(t));if(s){var n=s.getBoundingClientRect();o.visibilityButtonExtraBottom=n.top<e-40&&n.top+n.height>e?n.top+n.height-e:0}}};var S="https:"===location.protocol?"wss:":"ws:";h=new WebSocket(S+"//"+location.host),h.binaryType="arraybuffer",h.onmessage=function(e){w.onmessage(e)},h.onerror=function(e){console.log(e),w.useProxy=!1},navigator.serviceWorker&&navigator.serviceWorker.register("service-worker.bundle.js").catch(function(e){console.log("registration failed with error: "+e)})},13:function(e,t,o){"use strict";function s(e,t){function o(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function n(e,t){var o={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(o[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&(o[s[n]]=e[s[n]]);return o}function i(e,t,o,s){var n,i=arguments.length,a=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,s);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a}function a(e,t){return function(o,s){t(o,s,e)}}function r(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,o,s){return new(o||(o=Promise))(function(n,i){function a(e){try{l(s.next(e))}catch(e){i(e)}}function r(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){e.done?n(e.value):new o(function(t){t(e.value)}).then(a,r)}l((s=s.apply(e,t||[])).next())})}function c(e,t){function o(e){return function(t){return s([e,t])}}function s(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(a=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(a=l.trys,!(a=a.length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],i=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var n,i,a,r,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r}function p(e,t){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}function d(e){var t="function"==typeof Symbol&&e[Symbol.iterator],o=0;return t?t.call(e):{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}}}function u(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var s,n,i=o.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(s=i.next()).done;)a.push(s.value)}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return a}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}function f(e){return this instanceof f?(this.v=e,this):new f(e)}function m(e,t,o){function s(e){p[e]&&(c[e]=function(t){return new Promise(function(o,s){d.push([e,t,o,s])>1||n(e,t)})})}function n(e,t){try{i(p[e](t))}catch(e){l(d[0][3],e)}}function i(e){e.value instanceof f?Promise.resolve(e.value.v).then(a,r):l(d[0][2],e)}function a(e){n("next",e)}function r(e){n("throw",e)}function l(e,t){e(t),d.shift(),d.length&&n(d[0][0],d[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,p=o.apply(e,t||[]),d=[];return c={},s("next"),s("throw"),s("return"),c[Symbol.asyncIterator]=function(){return this},c}function b(e){function t(t,n){e[t]&&(o[t]=function(o){return(s=!s)?{value:f(e[t](o)),done:"return"===t}:n?n(o):o})}var o,s;return o={},t("next"),t("throw",function(e){throw e}),t("return"),o[Symbol.iterator]=function(){return this},o}function y(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"==typeof d?d(e):e[Symbol.iterator]()}Object.defineProperty(t,"__esModule",{value:!0}),t.__extends=s,o.d(t,"__assign",function(){return v}),t.__rest=n,t.__decorate=i,t.__param=a,t.__metadata=r,t.__awaiter=l,t.__generator=c,t.__exportStar=p,t.__values=d,t.__read=u,t.__spread=h,t.__await=f,t.__asyncGenerator=m,t.__asyncDelegator=b,t.__asyncValues=y;var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},v=Object.assign||function(e){for(var t,o=1,s=arguments.length;o<s;o++){t=arguments[o];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}},45:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},46:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appTemplateHtml='<div><ul class="bookmarks list-unstyled"><li v-for="(bookmark, index) in bookmarks"><button class="btn btn-link btn-xs" @click="useBookmark(index)">{{bookmark.name}}</button><button class="btn btn-link btn-xs" @click="deleteBookmark(index)">delete</button></li></ul><div class="main"><div class="container"><div class="row"><div class="col-md-12"><h4>WebSocket/Socket.IO/Stomp/Bayeux/HTTP/TCP/UDP/WebRTC Test Tool</h4></div></div><div class="row"><div class="col-md-12"><label><input type="radio" v-model="protocol" value="WebSocket" :disabled="isConnected"> WebSocket</label><label><input type="radio" v-model="protocol" value="HTTP" :disabled="isConnected"> HTTP</label><label><input type="radio" v-model="protocol" value="TCP" :disabled="isConnected"> TCP</label><label><input type="radio" v-model="protocol" value="UDP" :disabled="isConnected"> UDP</label><label><input type="radio" v-model="protocol" value="WebRTC" :disabled="isConnected"> WebRTC</label></div></div><div class="row" v-if="protocol === \'WebSocket\' || protocol === \'HTTP\'"><div class="col-md-10"><input id="url" type="url" class="form-control" v-model="url" placeholder="url"></div><div class="col-md-2" v-if="protocol === \'WebSocket\'"><input type="text" class="form-control" placeholder="subprotocol" v-model="subprotocol"></div><div class="col-md-2" v-else><select class="form-control" v-model="httpMethod"><option>GET</option><option>POST</option><option>PUT</option><option>DELETE</option><option>PATCH</option><option>COPY</option><option>HEAD</option><option>OPTIONS</option><option>LINK</option><option>UNLINK</option><option>PURGE</option></select></div></div><div class="row" v-if="protocol === \'TCP\' || protocol === \'UDP\'"><div class="col-md-3"><input class="form-control" v-model="host" placeholder="host"></div><div class="col-md-2"><input type="number" class="form-control" placeholder="port" v-model="port"></div></div><div class="row" v-if="protocol === \'WebRTC\'"><div class="col-md-3"><input type="text" class="form-control" placeholder="data channel" v-model="dataChannelName"></div><div class="col-md-3"><button class="btn btn-primary btn-sm" @click="createDataChannel()" :disabled="!dataChannelName || dataChannelStatus !== \'none\' || !peerConnection">create data channel</button></div></div><div class="row" v-if="protocol === \'WebRTC\'"><div class="col-md-12"><textarea style="width:100%;height:110px" class="form-control" placeholder="session description(offer or answer)" v-model="sessionDescription"></textarea></div></div><div class="row"><div class="col-md-12"><button class="btn btn-primary btn-sm" @click="connect()" v-if="protocol !== \'HTTP\' && protocol !== \'UDP\' && protocol !== \'WebRTC\'" :disabled="isConnected">connect</button><button class="btn btn-default btn-sm" @click="close()" v-if="protocol !== \'HTTP\' && protocol !== \'UDP\' && protocol !== \'WebRTC\'" :disabled="isDisconnected">disconnect</button><button class="btn btn-default btn-sm clipboard" data-clipboard-target="#url" v-if="protocol === \'WebSocket\' || protocol === \'HTTP\'">copy URL</button><button class="btn btn-default btn-sm" @click="addParameter()" v-if="protocol === \'WebSocket\' || protocol === \'HTTP\'">add a parameter</button><button class="btn btn-default btn-sm" @click="addHeader()" v-if="protocol === \'HTTP\'">add a header</button><button class="btn btn-default btn-sm" @click="addFormData()" v-if="protocol === \'HTTP\'">add a form data</button><button class="btn btn-primary btn-sm" @click="createOffer()" v-if="protocol === \'WebRTC\'" :disabled="dataChannelStatus !== \'init\' && dataChannelStatus !== \'created offer\'">create offer</button><button class="btn btn-default btn-sm" @click="answerOffer()" v-if="protocol === \'WebRTC\'" :disabled="(dataChannelStatus !== \'init\' && dataChannelStatus !== \'answered offer\') || !sessionDescription">answer offer</button><button class="btn btn-default btn-sm" @click="setAnswer()" v-if="protocol === \'WebRTC\'" :disabled="dataChannelStatus !== \'created offer\' || !sessionDescription">set answer</button><button class="btn btn-default btn-sm" @click="showTips()">show tips</button><button class="btn btn-default btn-sm" @click="toggleSocketIO()" v-if="protocol === \'WebSocket\'">{{ socketIOIsHidden ? "show socket.io" : "hide socket.io"}}</button><button class="btn btn-default btn-sm" @click="toggleStomp()" v-if="protocol === \'WebSocket\' || protocol === \'TCP\'">{{ stompIsHidden ? "show stomp" : "hide stomp"}}</button><button class="btn btn-default btn-sm" @click="toggleBayeux()" v-if="protocol === \'WebSocket\'">{{ bayeuxIsHidden ? "show bayeux" : "hide bayeux"}}</button><button class="btn btn-default btn-sm" @click="toggleProtobuf()" v-if="protocol !== \'HTTP\'">{{ protobufIsHidden ? "show protobuf" : "hide protobuf"}}</button></div></div><div class="row" v-if="!socketIOIsHidden && protocol === \'WebSocket\'"><div class="col-md-12"><label><input type="checkbox" v-model="isSocketIO" :disabled="isConnected"> socket.io</label><label><input type="checkbox" v-model="ignorePing" :disabled="isConnected || !isSocketIO"> will hide ping/pong of socket.io</label><button class="btn btn-link btn-sm" @click="useSocketIOSendMessage()">use socket.io send message</button></div></div><div class="row" v-if="!stompIsHidden && (protocol === \'WebSocket\' || protocol === \'TCP\')"><div class="col-md-12"><button class="btn btn-link btn-sm" @click="useStompConnectionMessage()">use stomp connection message</button><button class="btn btn-link btn-sm" @click="useStompSubscriptionMessage()">use stomp subscription message</button><button class="btn btn-link btn-sm" @click="useStompSendMessage()">use stomp send message</button></div></div><div class="row" v-if="!bayeuxIsHidden && protocol === \'WebSocket\'"><div class="col-md-12"><button class="btn btn-link btn-sm" @click="useBayeuxHandshakeMessage()">use bayeux handshake message</button><button class="btn btn-link btn-sm" @click="useBayeuxSubscribeMessage()">use bayeux subscribe message</button><button class="btn btn-link btn-sm" @click="useBayeuxPublishMessage()">use bayeux publish message</button><button class="btn btn-link btn-sm" @click="useBayeuxPingMessage()">use bayeux ping message</button></div></div><div class="row"><div class="col-md-12" v-if="protocol !== \'HTTP\' || shouldContainBody"><label v-if="protocol !== \'HTTP\' || shouldContainBody"><input type="radio" v-model="messageType" value="string"> string</label><label v-if="protocol !== \'HTTP\'"><input type="radio" v-model="messageType" value="Uint8Array"> Uint8Array</label><label v-if="protocol !== \'HTTP\'"><input type="radio" v-model="messageType" value="protobuf"> protobuf</label><label v-if="protocol === \'HTTP\' && shouldContainBody"><input type="radio" v-model="messageType" value="FormData"> FormData</label></div></div><div class="row" v-if="!protobufIsHidden"><div class="col-md-5"><textarea style="width:100%;height:150px" class="form-control" v-model="protobufContent" placeholder="protobuf file content"></textarea></div><div class="col-md-3"><input type="text" class="form-control input-sm" v-model="protobufTypePath" placeholder="protobuf type apyh"></div><div class="col-md-4"><button class="btn btn-link btn-sm" :disabled="!protobufContent || !protobufTypePath" @click="loadProtobuf()">load</button></div></div><div class="row" v-else><div class="col-md-6"><div class="col-md-12" v-if="protocol !== \'HTTP\' || shouldContainBody"><template v-if="!isPreview"><textarea style="width:100%;height:150px" class="form-control" v-model="message" v-if="messageType === \'string\'"></textarea><div v-for="(formData, index) in formDatas" class="row" v-else><div class="col-md-3"><input type="text" class="form-control input-sm" :value="formData.key" @keyup="setKeyOfFormData(index, $event)" placeholder="form data name"></div><div class="col-md-5"><input type="text" class="form-control input-sm" v-if="formData.type === \'text\'" :value="formData.value" @keyup="setValueOfFormData(index, $event)" placeholder="form data value"> <input type="file" class="form-control input-sm" v-else @change="setValueOfFormData(index, $event)" placeholder="form data value"></div><div class="col-md-2"><select class="form-control" :value="formData.type" @change="setTypeOfFormData(index, $event)"><option value="text">text</option><option value="file">file</option></select></div><div class="col-md-2"><button class="btn btn-link btn-sm" @click="deleteFormData(index)">delete</button></div></div></template><pre v-else>{{previewResult}}</pre></div></div><div class="col-md-6" v-if="protocol === \'WebSocket\' || protocol === \'HTTP\'"><div v-for="(parameter, index) in parameters" class="row"><div class="col-md-3"><input type="text" class="form-control input-sm" :value="parameter.key" @keyup="setKeyOfParameter(index, $event)" placeholder="parameter name"></div><div class="col-md-7"><input type="text" class="form-control input-sm" :value="parameter.value" @keyup="setValueOfParameter(index, $event)" placeholder="parameter value"></div><div class="col-md-2"><button class="btn btn-link btn-sm" @click="deleteParameter(index)">delete</button></div></div><div v-for="(header, index) in headers" v-if="protocol === \'HTTP\'" class="row"><div class="col-md-3"><input type="text" class="form-control input-sm" :value="header.key" @keyup="setKeyOfHeader(index, $event)" placeholder="header name"></div><div class="col-md-7"><input type="text" class="form-control input-sm" :value="header.value" @keyup="setValueOfHeader(index, $event)" placeholder="header value"></div><div class="col-md-2"><button class="btn btn-link btn-sm" @click="deleteHeader(index)">delete</button></div></div></div></div><div class="row"><div class="col-md-12"><button class="btn btn-default btn-sm" @click="previewMessage()" :disabled="message===\'\'" v-if="messageType !== \'FormData\' && !isPreview">preview message</button><button class="btn btn-default btn-sm" @click="cancelPreview()" :disabled="message===\'\'" v-if="messageType !== \'FormData\' && isPreview">cancel preview</button><button class="btn btn-primary btn-sm" @click="sendMessage()" :disabled="isDisconnected">send message</button><button class="btn btn-default btn-sm" @click="clear()" :disabled="messages.length===0">clear</button><button class="btn btn-default btn-sm" @click="savingAsBookmark()">{{isEditing ? "cancel bookmark" : "save as bookmark"}}</button><button class="btn btn-default btn-sm" @click="toggleFilter()">{{filterIsHidden ? "show filter" : "hide filter"}}</button></div></div><div class="row" v-if="isEditing"><div class="col-md-4"><input ref="bookmarkName" type="text" class="form-control input-sm" v-model="bookmarkName" placeholder="bookmark name"></div><div class="col-md-2"><button class="btn btn-link btn-sm" @click="saveAsBookmark()" :disabled="!canSaveAsBookmark">save</button></div></div><div class="row" v-if="!filterIsHidden"><div class="col-md-6"><input ref="filter" type="text" class="form-control input-sm" v-model="filter" placeholder="filter"></div></div><div class="row"><div class="col-md-12"><label><input type="checkbox" v-model="showRaw"> show raw data</label><label><input type="checkbox" v-model="showFormatted"> show formatted data</label></div></div><div class="row"><div class="col-md-12"><ul><li v-for="(message, index) in filteredMessages" class="visibility-button-container"><span class="label label-default">{{message.moment}}</span><span v-if="message.type===\'open\'" class="label label-success">open</span><span v-if="message.type===\'close\'" class="label label-danger">close</span><span v-if="message.type===\'error\'" class="label label-danger">error</span><span v-if="message.type===\'out\'" class="label label-info">out</span><span v-if="message.type===\'in\'" class="label label-info">in</span><span v-if="message.isBinary === true" class="label label-warning">binary</span><span v-if="message.isBinary === false" class="label label-warning">string</span><span v-if="message.type===\'tips\'" class="label label-info">tips</span><button v-if="message.formattedData || message.rawData || message.tips" class="btn btn-xs btn-default clipboard" :data-clipboard-target="\'#\' + resultId(message.id)">copy</button><span v-if="message.reason">{{message.reason}}</span><span v-if="message.data">{{message.data}}</span><template v-if="message.formattedData"><pre :id="resultId(message.id)" v-if="message.visible !== undefined ? message.visible : showFormatted">{{message.formattedData}}</pre><label v-else class="label label-default">formatted</label><button class="btn btn-xs btn-default" @click="toggleMessageVisibility(message)" :style="visibilityButtonStyle(message)">{{messageVisibility(message) ? "hide" : "show"}}</button></template><template v-if="message.rawData"><pre :id="resultId(message.id)" v-if="message.visible !== undefined ? message.visible : showRaw">{{message.rawData}}</pre><label v-else class="label label-default">raw</label><button class="btn btn-xs btn-default" @click="toggleMessageVisibility(message)" :style="visibilityButtonStyle(message)">{{messageVisibility(message) ? "hide" : "show"}}</button></template><pre v-if="message.tips" :id="resultId(message.id)">{{message.tips}}</pre></li></ul></div></div></div></div></div>'}},[12]);